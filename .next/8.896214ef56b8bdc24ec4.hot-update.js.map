{"version":3,"file":"8.896214ef56b8bdc24ec4.hot-update.js","sources":["webpack:///pages/project/index.js"],"sourcesContent":["import { Component } from 'react'\nimport {Link} from  '../../routes'\nimport ProviderDetail from '../../components/pro-detail';\nimport ImageModal from '../../components/image-modal';\nimport 'isomorphic-fetch'\nimport {mapObject , ucfirst} from '../../libraries/helpers'\nconst APIURL = process.env.DOMAIN + process.env.APIURI\n\nconst APIPROJECT = APIURL + 'project/'\nconst APIPRO = APIURL + 'provider/'\n// import Router from 'next/router';\nimport {Router} from '../../routes'\nimport css from './index.css'\n\nexport default class Project extends Component {\n    static async getInitialProps({ query }) {\n        const res = await fetch(APIPROJECT+query.id)\n        const data = await res.json()\n\n        const resPro = await fetch(APIPRO+data.project.user_id)\n        const dataPro = await resPro.json()\n        return { id: query.id \n                , data:dataPro \n                , provider : dataPro.provider \n                , project : data.project \n                , images: data.project.images \n                , slug : query.slug\n                , title : data.seo.title\n                , des : data.seo.des\n                , canonical : data.seo.canonical\n                , robots : data.seo.robots\n                , og_url : data.seo.url\n                , url_images : data.seo.url_image\n                , headerProjects : dataPro.headerProjects\n                , headerCategories : dataPro.headerCategories\n                , dataBase : dataPro.dataBase\n            }\n    }\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : {},\n            provider: {},\n            project: {},\n            images: []\n        }\n    }\n    showPhoto (e, id , slug) {\n        e.preventDefault()\n        Router.push(`/project?id=${this.props.id}&photoId=${id}&slug=${slug}`,`/anh/${id}-${slug}`)\n    }\n    dismissModal (id , slug) {\n        Router.pushRoute('project.detail', {id: id , slug : `${slug}`})\n      }\n    render() { \n        const { url , provider ,data , project, images} = this.props\n        return (\n            <ProviderDetail provider_id={provider.id} provider_slug={provider.slug} data={data} {...this.props} css={css}>\n                {\n                    url.query.photoId &&\n                    <ImageModal\n                        id={url.query.photoId}\n                        slug={url.query.slug}\n                        detail={false}\n                        onDismiss={() => this.dismissModal(url.query.id,url.query.slug)}\n                    />\n                }\n                <div className=\"mt-3 project-detail\" id=\"cat\">\n                    <div className=\"row m-0\">\n                        <div className=\"offset-md-1 col-12 col-md-10 col-lg-10 offset-md-1\">\n                            <div className=\"px-4 bg-white idea-content\">\n                                <div className=\"about\">\n                                    <h1 className=\"font-25 font-weight-normal\">{project.name}</h1>\n                                    <p className=\"font-14 font-weight-normal my-3\" dangerouslySetInnerHTML={{__html: project.descriptions}} />\n                                    <p className=\"font-14 font-weight-normal\"><strong>Địa chỉ</strong>{\": \"+project.address}</p>\n                                    {\n                                        project.more_infos && mapObject(project.more_infos, function (index, value) {\n                                            if(value != '')\n                                            return <p className=\"font-14 font-weight-normal\" key={index}><strong>{ucfirst(index)}</strong>{\": \" + value }</p>\n                                          })\n                                    }\n                                    <p className=\"font-14 font-weight-normal\"></p>\n                                </div>\n                                <div className=\"about bg-white py-3\">\n                                    <ul className=\"list-unstyled\">\n                                        {\n                                            images && images.map((value,index) => (\n                                                <li className=\"media border border-bottom-0 border-right-0 border-left-0 border-gray py-3 position-relative container w-100 mb-2 px-0\" key={index}>\n                                                        <div className=\"row w-100 m-0\">\n                                                            <div className=\"px-0\">\n                                                                <div className=\"project-image position-relative\">\n                                                                    {\n                                                                        value.status == 1 ?  \n                                                                        <Link route='image' params={{id: value.id , slug : `${value.slug}`}}>\n                                                                            <a className='photoLink' onClick={(e) =>  this.showPhoto(e, value.id , value.slug)}>\n                                                                                <img src={value.large_path} alt={value.name} />\n                                                                            </a>\n                                                                        </Link>\n                                                                        :\n                                                                        <a href=\"javascript:void(0)\" className='photoLink' rel=\"nofollow\">\n                                                                            <img src={value.large_path} alt={value.name} />\n                                                                        </a> \n                                                                    }\n                                                                    \n                                                                    <div className=\"project-action\">\n                                                                        <button className=\"btn btn-primary med save text-white\" title=\"Save To Ideabook\" compid=\"addToIdeabook\"><i className=\"fa fa-plus pr-2\"></i>Lưu ảnh</button>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                            <div className=\"project-mobile-action d-block d-md-none w-100 my-2 text-center\">\n                                                                <button className=\"btn btn-primary med save text-white\" title=\"Save To Ideabook\" compid=\"addToIdeabook\"><i className=\"fa fa-plus pr-2\"></i>Lưu ảnh</button>\n                                                            </div>\n            \n                                                            <div className=\"media-body pl-3 position-relative\">\n                                                                <div className=\"media-header\">\n                                                                    <div className=\"media-title\">\n                                                                        <h2 className=\"font-22 text-black-100\">\n                                                                        {\n                                                                            value.status == 1 ?  \n                                                                            <Link prefetch route='image' params={{id: value.id , slug : `${value.slug}`}}>\n                                                                             <a className=\"mt-0 mb-1 font-22 text-black-100\">{value.name}</a>\n                                                                            </Link>\n                                                                            :\n                                                                            <a rel=\"nofollow\" href=\"javascript:void(0)\" className=\"mt-0 mb-1 font-22 text-black-100\">{value.name}</a>\n                                                                        }\n                                                                        </h2>\n                                                                    </div>\n                                                                </div>\n                                                                <div className=\"media-content mt-1\">\n                                                                    <span className=\"font-15 text-gray\" dangerouslySetInnerHTML={{__html: value.descriptions}} />\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </li>\n                                            ))\n                                        }\n                                        \n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </ProviderDetail>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// pages/project/index.js"],"mappings":";;;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAMA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AAPA;AAEA;AACA;AACA;AAIA;;;;;;;;;;;;;;;;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;;AAEA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AACA;;;;;;;;;;;;;;;AAgBA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAQA;AACA;;;AAAA;AACA;AACA;AAAA;AACA;;;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA3CA;AA2DA;;;;AAnIA;AACA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}