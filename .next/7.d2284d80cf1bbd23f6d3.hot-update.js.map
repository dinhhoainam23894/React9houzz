{"version":3,"file":"7.d2284d80cf1bbd23f6d3.hot-update.js","sources":["webpack:///pages/project/list-project-filter.js"],"sourcesContent":["import React from 'react'\nimport Layout from '../../components/layout'\nimport Sidebar from '../../components/sideBar'\nimport 'isomorphic-fetch'\nimport ListProjectComponent from \"../../components/ListProjectComponent\";\nconst APIURL = process.env.DOMAIN + process.env.APIURI\nexport default class extends React.Component{\n  static async getInitialProps({query}){\n    let res = null;\n    if(query.f){\n      res = await fetch(APIURL + 'danh-sach-du-an/' + encodeURIComponent(query.slug) + `?f=${query.f}`)\n    }else{\n      res = await fetch(APIURL + 'danh-sach-du-an/' + encodeURIComponent(query.slug))\n    }\n    const data = await res.json()\n    return {\n      data : data,\n      projects : data.datas ? data.datas.data : null,\n      title : data.seo ? data.seo.title : null,\n      des : data.seo ? data.seo.des : null,\n      canonical : data.seo ? data.seo.canonical : null,\n      robots : data.seo ? data.seo.robots : null,\n      og_url : data.seo ? data.seo.url : null,\n      url_images : data.seo ? data.seo.url_images : null,\n      headerProjects : data.headerProjects,\n      headerCategories : data.headerCategories,\n      dataBase : data.dataBase,\n      h1 : data.h1,\n      filterDefault : data.filter_default,\n      page : data.page\n    }\n  }\n  constructor(props){\n    super(props)\n  }\n  componentDidMount(){\n    var showChar = 200;  // How many characters are shown by default\n    var ellipsestext = \"\";\n    var moretext = \"Xem thêm >\";\n    var lesstext = \"Rút gọn <\";\n    $('.more').each(function() {\n      var content = $(this).html();\n\n      if(content.length > showChar) {\n\n        var c = content.substr(0, showChar);\n        var h = content.substr(showChar, content.length - showChar);\n\n        var html = c + '<span class=\"moreellipses\">' + ellipsestext+ '&nbsp;</span><span class=\"morecontent\"><span>' + h + '</span>&nbsp;&nbsp;<a href=\"\" class=\"morelink\">' + moretext + '</a></span>';\n\n        $(this).html(html);\n      }\n\n    });\n\n    $(\".morelink\").click(function(){\n      if($(this).hasClass(\"less\")) {\n        $(this).removeClass(\"less\");\n        $(this).html(moretext);\n      } else {\n        $(this).addClass(\"less\");\n        $(this).html(lesstext);\n      }\n      $(this).parent().prev().toggle();\n      $(this).prev().toggle();\n      return false;\n    });\n\n\n  }\n  render(){\n    const { projects , h1 , filterDefault , page} = this.props\n    return(\n      <ListProjectComponent\n        {...this.props}\n        photoId={this.props.url.query && this.props.url.query.photoId}\n        asPath={url.asPath}\n        nextUrl={this.state.nextUrl}\n        images={this.state.images}\n        detail={true}\n        changeState={(images,nextPage)=>{this.setState({images : images , nextUrl : nextPage})}}\n        path={url.pathname}>\n      </ListProjectComponent>\n    )\n  }\n}\n\n\n// WEBPACK FOOTER //\n// pages/project/list-project-filter.js"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;;;;;;AACA;AACA;;AADA;;;;;;AAEA;AACA;;AADA;AACA;;;AACA;AACA;;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AACA;;;;;;;;;;;;;;;AAgBA;AAAA;AACA;AADA;AAEA;AACA;;;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAGA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAWA;;;;AA9EA;AACA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}