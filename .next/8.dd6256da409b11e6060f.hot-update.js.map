{"version":3,"file":"8.dd6256da409b11e6060f.hot-update.js","sources":["webpack:///pages/pro/project.js"],"sourcesContent":["import React from 'react'\nimport ProviderDetail from '../../components/pro-detail';\nimport ListProject from '../../components/list-project';\nimport axios from 'axios'\nimport 'isomorphic-fetch'\nconst APIURL = process.env.DOMAIN + process.env.APIURI + 'provider/'\nimport css from './project.css'\nexport default class extends React.Component {\n    static async getInitialProps ({ query }) {\n      const res = await fetch(APIURL+query.id+\"?projects&limit=21\")\n      const data = await res.json()\n      return { id: query.id \n              , data:data \n              , provider : data.provider \n              , projects : data.projects\n              , slug : query.slug\n              , h1 : data.h1 \n              , title : data.seo.title\n              , des : data.seo.des\n              , canonical : data.seo.canonical\n              , robots : data.seo.robots\n              , og_url : data.seo.url\n              , url_images : data.seo.url_image\n              , headerProjects : data.headerProjects\n              , headerCategories : data.headerCategories\n              , dataBase : data.dataBase\n            }\n    }\n    constructor(props){\n      super(props)\n      this.state = {\n        data : {},\n        provider : {},\n        projects : this.props.projects.data,\n        page : this.props.projects.next_page_url,\n      }\n      // this.handlePageChange = this.handlePageChange.bind(this);\n    }\n    onLoadMore = async(e,page) => {\n      e.preventDefault()\n      const res = await fetch(page+`&projects&limit=21`)\n      const data = await res.json()\n      var tracks = this.state.projects\n      data.projects.data.map((track) => {\n          tracks.push(track);\n      });\n     this.setState({projects : tracks , page : data.projects.next_page_url})\n    }\n   \n      render () {\n        const { provider , projects , id , slug , data} = this.props\n        var list_project = [];\n          const moreProject = [];\n          if(this.state.projects.length > 0){\n              this.state.projects.map(function(e,index){\n                list_project.push(<div className=\"col-12 col-md-4 col-lg-4 py-3 px-1\" key={index}>\n                    <ListProject project={e}></ListProject>\n                </div>);\n              })\n          }\n        return (\n            <ProviderDetail provider_id={id} provider_slug={slug} data={data} {...this.props} css={css}>\n              <div className=\"container mt-3\">\n                <h1 className=\"text-dark font-30 text-center\">{data.project_count+\" dự án\"}</h1>\n                <div className=\"row\">{list_project}</div>\n                { this.state.page &&\n                  <div className=\"loadmore justify-content-center d-flex\"> \n                  <button className=\"btn btn-primary\" onClick={(e) => this.onLoadMore(e,this.state.page)}>Xem thêm</button>\n                  </div>\n                }\n              </div>\n\n            </ProviderDetail>\n        );\n      }\n}\n\n\n// WEBPACK FOOTER //\n// pages/pro/project.js"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AAFA;AACA;;;;;;;;;;;;;;;;;AAEA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AACA;;;;;;;;;;;;;;;AAgBA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AASA;AACA;;;AAWA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAnEA;AACA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}