{"version":3,"file":"5.b18007b6f2f1a0b85ef6.hot-update.js","sources":["webpack:///pages/project/list-project.js"],"sourcesContent":["import React from 'react'\nimport Layout from '../../components/layout'\nimport Sidebar from '../../components/sideBar'\nimport 'isomorphic-fetch'\nimport ListProjectComponent from \"../../components/ListProjectComponent\";\nconst APIURL = process.env.DOMAIN + process.env.APIURI + 'danh-sach-du-an/'\nimport css from \"./list-project.css\";\n\nexport default class extends React.Component{\n    static async getInitialProps({query}){\n        let res = null;\n      if(query.page){\n        res = await fetch(APIURL + `?page=${query.page}`)\n      }else{\n        res = await fetch(APIURL)\n      }\n        const data = await res.json()\n        let url_path= '/danh-sach-du-an/';\n        return {\n            data : data,\n            projects : data.datas ? data.datas.data : null,\n            title : data.seo ? data.seo.title : null, \n            des : data.seo ? data.seo.des : null, \n            canonical : data.seo ? data.seo.canonical : null, \n            robots : data.seo ? data.seo.robots : null, \n            og_url : data.seo ? data.seo.url : null, \n            url_images : data.seo ? data.seo.url_image : null,\n            headerProjects : data.headerProjects,\n            headerCategories : data.headerCategories,\n            dataBase : data.dataBase,\n            h1 : data.h1,\n            filterDefault : data.filter_default,\n            page : data.page,\n            url_path : url_path,\n            breadcrumb : data.breadcrumb\n        }\n    }\n    constructor(props){\n        super(props)\n    }\n    componentDidMount(){\n        var showChar = 200;  // How many characters are shown by default\n\t\t    var ellipsestext = \"\";\n\t\t    var moretext = \"Xem thêm >\";\n\t\t    var lesstext = \"Rút gọn <\";\n\t\t    $('.more').each(function() {\n\t\t        var content = $(this).html();\n\t\t \n\t\t        if(content.length > showChar) {\n\t\t \n\t\t            var c = content.substr(0, showChar);\n\t\t            var h = content.substr(showChar, content.length - showChar);\n\t\t \n\t\t            var html = c + '<span class=\"moreellipses\">' + ellipsestext+ '&nbsp;</span><span class=\"morecontent\"><span>' + h + '</span>&nbsp;&nbsp;<a href=\"\" class=\"morelink font-14\">' + moretext + '</a></span>';\n\t\t \n\t\t            $(this).html(html);\n\t\t        }\n\t\t \n\t\t    });\n\t\t \n\t\t    $(\".morelink\").click(function(){\n\t\t        if($(this).hasClass(\"less\")) {\n\t\t            $(this).removeClass(\"less\");\n\t\t            $(this).html(moretext);\n\t\t        } else {\n\t\t            $(this).addClass(\"less\");\n\t\t            $(this).html(lesstext);\n\t\t        }\n\t\t        $(this).parent().prev().toggle();\n\t\t        $(this).prev().toggle();\n\t\t        return false;\n\t\t    });\n    }\n    render(){\n        return(\n          <ListProjectComponent\n            {...this.props}\n            detail={true}\n            css = {css}\n          >\n          </ListProjectComponent>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// pages/project/list-project.js"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AAFA;AACA;;;;;;;;;;;;;;;;;AAGA;AACA;AACA;AAAA;;;;;;AACA;AACA;;AADA;;;;;;AAEA;AACA;;AADA;AACA;;;AACA;AACA;;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AACA;;;;;;;;;;;;;;;AAkBA;AAAA;AACA;AADA;AAEA;AACA;;;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AACA;AACA;AAGA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AA1EA;AACA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}