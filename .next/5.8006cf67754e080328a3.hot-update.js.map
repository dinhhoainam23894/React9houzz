{"version":3,"file":"5.8006cf67754e080328a3.hot-update.js","sources":["webpack:///pages/project/index.js"],"sourcesContent":["import { Component } from 'react'\nimport Link from 'next/link'\nimport ProviderDetail from '../../components/pro-detail';\nimport ImageModal from '../../components/image-modal';\nimport axios from 'axios'\nimport 'isomorphic-fetch'\nimport {mapObject , ucfirst} from '../../libraries/helpers'\nconst APIURL = process.env.DOMAIN + process.env.APIURI\n\nconst APIPROJECT = APIURL + 'project/'\nconst APIPRO = APIURL + 'provider/'\n// import Router from 'next/router';\nimport {Router} from '../../routes'\n\n\nexport default class Project extends Component {\n    static async getInitialProps({ query }) {\n        const res = await fetch(APIPROJECT+query.id)\n        const data = await res.json()\n\n        const resPro = await fetch(APIPRO+data.project.user_id)\n        const dataPro = await resPro.json()\n        return { id: query.id \n                , data:dataPro \n                , provider : dataPro.provider \n                , project : data.project \n                , images: data.project.images \n                , slug : query.slug}\n    }\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : {},\n            provider: {},\n            project: {},\n            images: []\n        }\n    }\n    showPhoto (e, id , slug) {\n        e.preventDefault()\n        Router.push(`/project?id=${this.props.id}&photoId=${id}&slug=${slug}`,`/anh/${id}-${slug}`)\n    }\n    dismissModal (id , slug) {\n        Router.push(`/du-an/${id}-${slug}`)\n      }\n    render() { \n        const { url , provider ,data , project, images} = this.props\n        return (\n            <ProviderDetail id={provider.id} slug={provider.slug} data={data}>\n                {\n                    url.query.photoId &&\n                    <ImageModal\n                        id={url.query.photoId}\n                        slug={url.query.slug}\n                        onDismiss={() => this.dismissModal(url.query.id,url.query.slug)}\n                    />\n                }\n                <div className=\"mt-3 project-detail\" id=\"cat\">\n                    <div className=\"row m-0\">\n                        <div className=\"offset-md-1 col-12 col-md-10 col-lg-10 offset-md-1\">\n                            <div className=\"px-4 bg-white idea-content\">\n                                <div className=\"about\">\n                                    <h1 className=\"font-25 font-weight-normal\">{project.name}</h1>\n                                    <h3 className=\"font-14 font-weight-normal mb-3\">{project.descriptions}</h3>\n                                    <h3 className=\"font-14 font-weight-normal\"><strong>Địa chỉ</strong>: {project.address}</h3>\n                                    <h3 className=\"font-14 font-weight-normal\"><strong>Nguồn dự án</strong>:<a href={project.source_url} rel=\"nofollow\" target=\"_blank\" className=\"text-dark\"> {project.source_url}</a></h3>\n                                    {\n                                        project.more_infos && mapObject(project.more_infos, function (index, value) {\n                                            if(value != '')\n                                            return <h3 className=\"font-14 font-weight-normal\" key={index}><strong>{ucfirst(index)} </strong> : { value }</h3>\n\n                                          })\n                                    }\n                                    <h3 className=\"font-14 font-weight-normal\"></h3>\n                                </div>\n                                <div className=\"about bg-white py-3\">\n                                    <ul className=\"list-unstyled\">\n                                        {\n                                            images && images.map((value,index) => (\n                                                <li className=\"media border border-bottom-0 border-right-0 border-left-0 border-gray py-3 position-relative container w-100 mb-2 px-0\" key={index}>\n                                                        <div className=\"row w-100 m-0\">\n                                                            <div className=\"px-0\">\n                                                                <div className=\"project-image position-relative\">\n                                                                    <Link href={`/anh/?id=${value.id}`}>\n                                                                        <a className='photoLink' onClick={(e) =>  this.showPhoto(e, value.id , value.slug)}>\n                                                                            <picture>\n                                                                                <source srcSet={value.large_path} media=\"(max-width: 768px)\" />\n                                                                                <source srcSet={value.large_path} media=\"(min-width: 768px)\" />\n                                                                                <img srcSet={value.large_path} alt={value.name} />\n                                                                            </picture>\n                                                                        </a>\n                                                                    </Link>\n                                                                    <div className=\"project-action\">\n                                                                        <button className=\"btn btn-primary med save text-white\" title=\"Save To Ideabook\" compid=\"addToIdeabook\"><i className=\"fa fa-plus pr-2\"></i>Lưu ảnh</button>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                            <div className=\"project-mobile-action d-block d-md-none w-100 my-2 text-center\">\n                                                                <button className=\"btn btn-primary med save text-white\" title=\"Save To Ideabook\" compid=\"addToIdeabook\"><i className=\"fa fa-plus pr-2\"></i>Lưu ảnh</button>\n                                                            </div>\n            \n                                                            <div className=\"media-body pl-3 position-relative\">\n                                                                <div className=\"media-header\">\n                                                                    <div className=\"media-title\">\n                                                                        <h2 className=\"font-22 text-black-100\"><a className=\"mt-0 mb-1 font-22 text-black-100\" href=\"{{ route('image.detail',['id' => $image->id , 'name' => standardText($image->name)]) }}\">{value.name}</a></h2>\n                                                                    </div>\n                                                                </div>\n                                                                <div className=\"media-content mt-1\">\n                                                                    <span className=\"font-15 text-gray\" dangerouslySetInnerHTML={{__html: value.descriptions}}>\n                                                                        \n                                                                    </span>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </li>\n                                            ))\n                                        }\n                                        \n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </ProviderDetail>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// pages/project/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;;AAEA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;;;;;;;;;;;;;;;AAMA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAQA;AACA;;;AAAA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA9BA;AAgDA;;;;AA/GA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}